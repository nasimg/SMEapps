@page "/identity/login"
@layout IdentityLayout
@using System.ComponentModel.DataAnnotations

<EditForm Model="@loginModel" OnValidSubmit="HandleValidSubmit" style="min-width: 450px">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <MudCard>
        <MudText Typo="Typo.h4" Align="Align.Center" Class="pt-2 pb-2">
            SME - Login
        </MudText>

        <MudCardContent>
            <MudTextField Label="Email"
                          Class="mt-3"
                          @bind-Value="loginModel.Email"
                          For="@(() => loginModel.Email)"
                          Required="true" />

            <MudTextField Label="Password"
                          Class="mt-3"
                          @bind-Value="loginModel.Password"
                          For="@(() => loginModel.Password)"
                          InputType="InputType.Password"
                          Required="true" />
        </MudCardContent>

        <MudCardActions>
            <MudButton ButtonType="ButtonType.Submit"
                       Variant="Variant.Filled"
                       Color="Color.Primary"
                       Class="ml-auto"
                      
                       Disabled="@isLoading">
                @(isLoading ? "Logging in..." : "Login")
            </MudButton>
        </MudCardActions>

        @if (!string.IsNullOrEmpty(errorMessage))
        {
            <MudText Typo="Typo.body2" Color="Color.Error" Class="mt-2 ml-3">@errorMessage</MudText>
        }
    </MudCard>
</EditForm>
