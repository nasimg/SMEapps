@using Microsoft.AspNetCore.Components.Authorization
@using SMEapps.Shared.Services
@inject AuthenticationStateProvider AuthProvider
@inject ISStore SStore
@inject NavigationManager NavigationManager



@code {
    private bool? canceled;
    private async Task ConfirmLogout()
    {
        // var dialog = await DialogService.ShowConfirmationAsync(
        //     "Do you want to logout?", "Yes", "No", "Logout?");

        // if ((await dialog.Result).Cancelled)
        // {
        //     NavigationManager.NavigateTo("/");
        //     return;
        // }

        // await Task.Run(async () =>
        // {
        //     logout
        //     var m = AuthProvider.GetType().GetMethod("LogoutAsync");
        //     if (m?.Invoke(AuthProvider, null) is Task t) await t;

           
        //     var keys = new[] { "token","refreshToken","userName","userId","emailId",
        //                        "roleId","roleName","validity","expiredTime","id" };
        //     await Task.WhenAll(keys.Select(SStore.RemoveAsync));
        // });

        // await Task.Delay(100);
        // NavigationManager.NavigateTo("/identity/login");
    }
}
